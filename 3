let selectedBouquet = '';

function selectBouquet(image) {
    selectedBouquet = image;
    alert("تم اختيار الباقة! الآن أضف الرسالة واضغط إنشاء الرابط.");
}

function generateLink() {
    let sender = document.getElementById("sender").value;
    let receiver = document.getElementById("receiver").value;
    let message = document.getElementById("message").value;

    if (!selectedBouquet || !sender || !receiver || !message) {
        alert("الرجاء ملء جميع الحقول واختيار باقة.");
        return;
    }

    let encodedMessage = encodeURIComponent(message);
    let generatedURL = `${window.location.origin}/bouquet.html?image=${selectedBouquet}&sender=${encodeURIComponent(sender)}&receiver=${encodeURIComponent(receiver)}&message=${encodedMessage}`;

    document.getElementById("generated-link").value = generatedURL;
    document.getElementById("link-section").style.display = "block";
}

function copyLink() {
    let copyText = document.getElementById("generated-link");
    copyText.select();
    document.execCommand("copy");
    alert("تم نسخ الرابط!");
}
